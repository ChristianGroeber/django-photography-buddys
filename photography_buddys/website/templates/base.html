{% load static %}
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Photography Buddy</title>

  <!-- Font Awesome Icons -->
  <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700" rel="stylesheet">
  <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic' rel='stylesheet' type='text/css'>

  <!-- Plugin CSS -->
  <link href="{% static 'css/magnific-popup.css' %}" rel="stylesheet">
  <link href="{% static 'css/Site.css' %}" rel="stylesheet">
  <link href="{% static 'css/forms.css' %}" rel="stylesheet">

  <!-- Theme CSS - Includes Bootstrap -->
  <link href="{% static 'css/creative.css' %}" rel="stylesheet">
  <script src="{% static 'js/jquery.min.js' %}"></script>

  <script>
    $(document).ready(function(){
      var masthead = $('.masthead').length;
      if (masthead === 0){
        $('nav').removeAttr('id');
        $('nav').css('background-color', 'white');
        // $('.content').css('margin-top', $('nav').height() + 'px');
      }

      var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
      var hBody = $('.content').height();
      if (hBody < h){
        $('.content').css('height', h - $('footer').height());
      }

      $(document).scroll(function(){
        var scrollTop = $(document).scrollTop();
        var loginHeight = $('.login-row').height();
        var nav = $('nav');
        if (scrollTop > loginHeight){
          $('.content').addClass('padded');
          nav.removeClass('unfix');
        }else if (scrollTop <= loginHeight){
          $('.content').removeClass('padded');
          nav.addClass('unfix');
        }
      })
    })
  </script>

  <style>
    .padded{
      padding-top: 40px;
    }
  </style>
</head>

<body id="page-top">

  <!-- Navigation -->
    <div class="login-row">
      {% if login_required %}
        <a class="colorful" href="{% url 'login' %}">Login</a>
      {% else %}
        Hello {{ user.username }} <a href="{% url 'logout' %}">Logout</a>
      {% endif %}
    </div>
  <nav class="unfix navbar navbar-expand-lg navbar-light fixed-top py-3" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="{% url 'home'%}">Photography Buddy</a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto my-2 my-lg-0">
            <li class="nav-item">
              <a class="nav-link" href="login/">Login/Register</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'community' %}">Community</a>
            </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="content">
{% block content %}
  {% endblock %}
    </div>

  <!-- Footer -->
  <footer class="bg-light py-5">
    <div class="container">
      <div class="small text-center text-muted">Copyright &copy; 2019 - Start Bootstrap</div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>

  <!-- Plugin JavaScript -->
  <script src="{% static 'js/jquery.easing.min.js' %}"></script>
  <script src="{% static 'js/jquery.magnific-popup.js' %}"></script>

  <!-- Custom scripts for this template -->
  <script src="{% static 'js/creative.min.js' %}"></script>

</body>

</html>
